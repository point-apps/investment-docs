export const description =
  'On this page, weâ€™ll dive into the different bank endpoints you can use to manage banks programmatically.'

# Banks

## The bank model

The bank model contains all the information about your banks.

### Properties

<Properties>
  <Property name="_id" type="objectId">
    Unique identifier for the bank.
  </Property>
  <Property name="name" type="string">
    The name for the bank.
    - Unique Constraint (name, code, branch)
    - Is Required
  </Property>
  <Property name="code" type="string">
    The code for the bank.
    - Unique Constraint (name, code, branch)
    - Is Required
  </Property>
  <Property name="branch" type="string">
    The branch for the bank.
    - Is Required
  </Property>
  <Property name="address" type="string">
    The address for the bank.
  </Property>
  <Property name="phone" type="string">
    The phone for the bank.
  </Property>
  <Property name="fax" type="string">
    The fax for the bank.
  </Property>
  <Property name="notes" type="string">
    The notes for the bank.
  </Property>
  <Property name="accounts" type="array">
    The accounts for the bank.
  </Property>
  <Property name="accounts.$.number" type="number">
    The account number for the bank account.
    - Unique Constraint
    - Is Required
  </Property>
  <Property name="accounts.$.name" type="string">
    The account name for the bank account.
  </Property>
  <Property name="accounts.$.notes" type="string">
    The account notes for the bank account.
  </Property>
  <Property name="createdBy_id" type="objectId">
    User identifier who create the bank.
  </Property>
  <Property name="createdAt" type="timestamp">
    Timestamp of when the bank was created.
  </Property>
  <Property name="updatedBy_id" type="objectId">
    User identifier who update the bank.
  </Property>
  <Property name="updatedAt" type="timestamp">
    Timestamp of when the bank was updated.
  </Property>
  <Property name="archivedBy_id" type="objectId">
    User identifier who archive the bank.
  </Property>
  <Property name="archivedAt" type="timestamp">
    Timestamp of when the bank was archived.
  </Property>
  <Property name="requestApprovalDeleteTo_id" type="objectId">
    User identifier who request to delete the owner.
  </Property>
  <Property name="requestApprovalDeleteAt" type="timestamp">
    Timestamp of when the user request to delete the owner.
  </Property>
  <Property name="requestApprovalDeleteReason" type="string">
    Request approval delete reason.
  </Property>
  <Property name="requestApprovalDeleteStatus" type="enum">
    Request approval delete status
    - enum ['pending', 'approved', 'rejected']
  </Property>
</Properties>

---

## List all banks {{ tag: 'GET', label: '/v1/banks' }}

<Row>
  <Col>

    This endpoint allows you to retrieve a paginated list of all your banks.

    ### Optional query

    <Properties>
      <Property name="page" type="integer">
        The page number of banks returned.
        - Default `1`
      </Property>
      <Property name="pageSize" type="integer">
        The page size number of banks returned.
        - Default `10`
      </Property>
      <Property name="search" type="object">
        Filter data by text
      </Property>
      <Property name="sort" type="object">
        Display data in order.
        - `asc` sort ascending
        - `desc` sort descending
      </Property>
    </Properties>

  </Col>
  <Col sticky>
    <CodeGroup title="Request" tag="GET" label="/v1/banks">
    ```typescript {{ title: 'axios' }}
    const response = axios.get('/v1/banks', {
      params: {
        page: 1,
        pageSize: 10,
        search: {
          name: 'bca',
        },
        sort: {
          name: 'asc'
        }
      }
    })
    ```
    </CodeGroup>
    <CodeGroup title="Response">
    ```json {{ title: '200' }}
    {
      "banks": [
        {
          "_id": "637b569149e0c02e1036c35a",
          "code": 014,
          "name": "BCA",
          "address": "",
          "phone": "",
          "fax": "",
          "notes": "",
          "accounts": [
            {
              "branch": "Mayjend Sungkono",
              "number": 86401234,
              "name": "John Doe",
              "notes": "",
            },
            {
              "branch": "Raya Darmo",
              "number": 85543210,
              "name": "John Doe",
              "notes": "",
            }
          ],
          "createdBy_id": "637d83d15d2be122007524bf",
          "createdAt": "2022-01-01T00:00:00.000Z",
        },
      ],
      "pagination": {
        "page": 1,
        "pageSize": 1,
        "pageCount": 1,
        "totalDocument": 1
      }
    }
    ```
    </CodeGroup>
  </Col>
</Row>

---

## Create a bank {{ tag: 'POST', label: '/v1/banks' }}

<Row>
  <Col>

    This endpoint allows you to add a new bank.

    ### Required attributes

    <Properties>
      <Property name="name" type="string">
        The name for the bank.
      </Property>
    </Properties>
  </Col>
  <Col sticky>
    <CodeGroup title="Request" tag="POST" label="/v1/banks">
    ```typescript {{ title: 'axios' }}
    const response = axios.post('/v1/banks', {
      code: 014,
      name: "BCA",
      address: "",
      phone: "",
      fax: "",
      notes: "",
      accounts: [
        {
          branch: "Mayjend Sungkono",
          number: 86401234,
          name: "John Doe",
          notes: "",
        },
        {
          branch: "Raya Darmo",
          number: 85543210,
          name: "John Doe",
          notes: "",
        }
      ],
    })
    ```
    </CodeGroup>
    <CodeGroup title="Response">
    ```json {{ title: '201' }}
    {
      "_id": "637d83d15d2be122007524bf"
    }
    ```
    </CodeGroup>
  </Col>
</Row>

---

## Retrieve a bank {{ tag: 'GET', label: '/v1/banks/:id' }}

<Row>
  <Col>
    This endpoint allows you to retrieve a bank by providing their id.
  </Col>
  <Col sticky>
    <CodeGroup title="Request" tag="GET" label="/v1/banks/:id">
    ```typescript {{ title: 'axios' }}
    const response = axios.get('/v1/banks/637d83d15d2be122007524bf')
    ```
    </CodeGroup>
    <CodeGroup title="Response">
    ```json {{ title: '200' }}
    {
      "_id": "637d83d15d2be122007524bf",
      "name": "Charles",
      "createdBy_id": "637d83d15d2be122007524bf",
      "createdAt": "2022-01-01T00:00:00.000Z",
    }
    ```
    </CodeGroup>
  </Col>
</Row>

---

## Update a bank {{ tag: 'PATCH', label: '/v1/banks/:id' }}

<Row>
  <Col>

    This endpoint allows you to perform an update on a bank.

    ### Optional attributes

    <Properties>
      <Property name="name" type="string">
        The name for the bank.
      </Property>
    </Properties>

  </Col>
  <Col sticky>
    <CodeGroup title="Request" tag="PATCH" label="/v1/banks/:id">
    ```typescript {{ title: 'axios' }}
    const response = axios.patch('/v1/banks/637d83d15d2be122007524bf', {
      name: "Administrator",
    })
    ```
    </CodeGroup>
    <CodeGroup title="Response">
    ```json {{ title: '204' }}
    // empty response
    ```
    </CodeGroup>
  </Col>
</Row>

---

## Delete a bank {{ tag: 'DELETE', label: '/v1/banks/:id' }}

<Row>
  <Col>
    This endpoint allows you to delete banks from your bank list.
  </Col>
  <Col sticky>
    <CodeGroup title="Request" tag="DELETE" label="/v1/banks/:id">
    ```typescript {{ title: 'axios' }}
    const response = axios.delete('/v1/banks/637d83d15d2be122007524bf')
    ```
    </CodeGroup>
    <CodeGroup title="Response">
    ```json {{ title: '204' }}
    // empty response
    ```
    </CodeGroup>
  </Col>
</Row>

---

## Archive a bank {{ tag: 'PATCH', label: '/v1/banks/:id/archive' }}

<Row>
  <Col>
    This endpoint allows you to patch banks from your bank list.
  </Col>
  <Col sticky>
    <CodeGroup title="Request" tag="PATCH" label="/v1/banks/:id/archive">
    ```typescript {{ title: 'axios' }}
    const response = axios.patch('/v1/banks/637d83d15d2be122007524bf/archive')
    ```
    </CodeGroup>
    <CodeGroup title="Response">
    ```json {{ title: '204' }}
    // empty response
    ```
    </CodeGroup>
  </Col>
</Row>

---

## Restore a bank {{ tag: 'PATCH', label: '/v1/banks/:id/restore' }}

<Row>
  <Col>
    This endpoint allows you to patch banks from your bank list.
  </Col>
  <Col sticky>
    <CodeGroup title="Request" tag="PATCH" label="/v1/banks/:id/restore">
    ```typescript {{ title: 'axios' }}
    const response = axios.patch('/v1/banks/637d83d15d2be122007524bf/restore')
    ```
    </CodeGroup>
    <CodeGroup title="Response">
    ```json {{ title: '204' }}
    // empty response
    ```
    </CodeGroup>
  </Col>
</Row>

---

## Request to delete the bank {{ tag: 'PATCH', label: '/v1/banks/:id/request-delete' }}

<Row>
  <Col>
    This endpoint allows you to delete banks from your bank list.
  </Col>
  <Col sticky>
    <CodeGroup title="Request" tag="PATCH" label="/v1/banks/:id/request-delete">
    ```typescript {{ title: 'axios' }}
    const response = axios.patch('/v1/banks/637d83d15d2be122007524bf/request-delete', {
      approvalTo: '',
      reasonDelete: '',
    })
    ```
    </CodeGroup>
    <CodeGroup title="Response">
    ```json {{ title: '204' }}
    // empty response
    ```
    </CodeGroup>
  </Col>
</Row>

---

## Approve request to delete the bank {{ tag: 'PATCH', label: '/v1/banks/:id/request-delete/approve' }}

<Row>
  <Col>
    This endpoint allows you to approve request delete banks from your bank list.
  </Col>
  <Col sticky>
    <CodeGroup title="Request" tag="PATCH" label="/v1/banks/:id/request-delete/approve">
    ```typescript {{ title: 'axios' }}
    const response = axios.patch('/v1/banks/637d83d15d2be122007524bf/request-delete/approve')
    ```
    </CodeGroup>
    <CodeGroup title="Response">
    ```json {{ title: '204' }}
    // empty response
    ```
    </CodeGroup>
  </Col>
</Row>

---

## Reject request to delete the bank {{ tag: 'PATCH', label: '/v1/banks/:id/request-delete/reject' }}

<Row>
  <Col>
    This endpoint allows you to reject request delete banks from your bank list.
  </Col>
  <Col sticky>
    <CodeGroup title="Request" tag="PATCH" label="/v1/banks/:id/request-delete/reject">
    ```typescript {{ title: 'axios' }}
    const response = axios.patch('/v1/banks/637d83d15d2be122007524bf', {
      reasonReject: ""
    })
    ```
    </CodeGroup>
    <CodeGroup title="Response">
    ```json {{ title: '204' }}
    // empty response
    ```
    </CodeGroup>
  </Col>
</Row>

---